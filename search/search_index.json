{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Programaci\u00f3n en Python","text":"<p>Temario:</p> <ol> <li>Fundamentos de Python</li> <li>Tratamiento de datos</li> <li>Frameworks para desarrollo de API REST</li> </ol> <p>Materiales Optativa Python by Jos\u00e9 Enrique Ati\u00e9nzar Ib\u00e1\u00f1ez is licensed under CC BY-NC-SA 4.0</p>"},{"location":"01_fundamentos/","title":"\ud83d\udc0d Unidad 1: Fundamentos de Python","text":""},{"location":"01_fundamentos/#1-que-es-python","title":"1. \u00bfQu\u00e9 es Python?","text":"<p>Python es un lenguaje de programaci\u00f3n de alto nivel, interpretado, multiparadigma y de prop\u00f3sito general.</p>"},{"location":"01_fundamentos/#caracteristicas-principales","title":"\ud83e\udde0 Caracter\u00edsticas principales:","text":"<ul> <li>Sintaxis clara y legible</li> <li>Tipado din\u00e1mico</li> <li>Gran comunidad y abundante documentaci\u00f3n</li> <li>Amplia librer\u00eda est\u00e1ndar</li> <li>Muy usado en ciencia de datos, desarrollo web, automatizaci\u00f3n, inteligencia artificial, entre otros.</li> </ul>"},{"location":"01_fundamentos/#origen","title":"\ud83c\udfdb Origen:","text":"<ul> <li>Creado por Guido van Rossum y lanzado en 1991.</li> <li>Su nombre no viene del animal, sino del grupo de comedia brit\u00e1nico Monty Python.</li> </ul>"},{"location":"01_fundamentos/#aplicaciones-comunes","title":"\ud83d\udd27 Aplicaciones comunes:","text":"<ul> <li>Desarrollo web (Django, Flask)</li> <li>Ciencia de datos (NumPy, Pandas, Matplotlib)</li> <li>Inteligencia Artificial y Machine Learning (TensorFlow, scikit-learn)</li> <li>Automatizaci\u00f3n de tareas (scripts)</li> <li>Videojuegos, escritorio, ciberseguridad, IoT, etc.</li> </ul>"},{"location":"01_fundamentos/#2-instalacion-de-python","title":"2. Instalaci\u00f3n de Python","text":""},{"location":"01_fundamentos/#descarga-e-instalacion","title":"Descarga e instalaci\u00f3n","text":"<ul> <li>Descargar desde: https://www.python.org/downloads</li> <li>Aseg\u00farate de marcar la opci\u00f3n \"Add Python to PATH\" en Windows.</li> </ul>"},{"location":"01_fundamentos/#verificar-instalacion","title":"Verificar instalaci\u00f3n","text":"<pre><code>python --version\n# o\npython3 --version\n</code></pre>"},{"location":"01_fundamentos/#3-estructura-de-un-programa-en-python","title":"3. Estructura de un programa en Python","text":"<ul> <li>Un programa en Python est\u00e1 compuesto por instrucciones secuenciales. Cada instrucci\u00f3n est\u00e1 definica en una l\u00ednea l\u00f3gica</li> <li>El final de una l\u00ednea l\u00f3gica est\u00e1 representado por el caracter especial NEWLINE (salto de l\u00ednea).</li> <li>Uni\u00f3n de l\u00edneas expl\u00edcita: dos o m\u00e1s l\u00edneas f\u00edsicas pueden unirse en una \u00fanica l\u00ednea l\u00f3gica utilizando el caracter de barra invertida (). Una l\u00ednea que termina en barra invertida no puede llevar un comentario.</li> </ul> <pre><code>if 1900 &lt; year &lt; 2100 and 1 &lt;= month &lt;= 12 \\\n   and 1 &lt;= day &lt;= 31 and 0 &lt;= hour &lt; 24 \\\n   and 0 &lt;= minute &lt; 60 and 0 &lt;= second &lt; 60:   # Parece una fecha v\u00e1lida\n        return 1\n</code></pre> <ul> <li>No requiere una funci\u00f3n <code>main()</code> obligatoria, aunque es recomendable usarla en proyectos grandes.</li> <li>La indentaci\u00f3n es clave: delimita bloques de c\u00f3digo.</li> </ul> <pre><code>def saludar():\n    print(\"Hola, mundo\")\n\nsaludar()\n</code></pre>"},{"location":"01_fundamentos/#4-sintaxis-basica-y-convenciones-del-lenguaje","title":"4. Sintaxis b\u00e1sica y convenciones del lenguaje","text":"<ul> <li>Python es sensible a la indentaci\u00f3n (usa 4 espacios por convenci\u00f3n).</li> <li>Las instrucciones se escriben l\u00ednea por l\u00ednea.</li> <li>Uso de snake_case para variables y funciones.</li> <li>Uso de PascalCase para nombres de clases.</li> </ul> <pre><code>nombre_usuario = \"Juan\"\nEdadUsuario = 30  # \u274c No recomendado\n\nclass Persona:\n  species = \"Homo Sapiens\"\n\np = Persona()\n</code></pre>"},{"location":"01_fundamentos/#5-uso-de-comentarios-y-documentacion-en-el-codigo","title":"5. Uso de comentarios y documentaci\u00f3n en el c\u00f3digo","text":"<ul> <li>Comentarios de una l\u00ednea: <code>#</code></li> <li>Comentarios multil\u00ednea: triple comilla <code>'''</code> o <code>\"\"\"</code> (aunque se usan m\u00e1s para docstrings).</li> <li>Docstrings: documentaci\u00f3n de funciones, m\u00f3dulos o clases.</li> </ul> <pre><code># Esto es un comentario de una l\u00ednea\n\n\"\"\"\nEsto es un comentario\nde varias l\u00edneas (tambi\u00e9n usado para documentaci\u00f3n o docstrings)\n\"\"\"\n\ndef sumar(a, b):\n    \"\"\"Devuelve la suma de dos n\u00fameros (esto es un docstring)\"\"\"\n    return a + b\n</code></pre>"},{"location":"01_fundamentos/#6-comunicacion-por-consola-en-python","title":"6. Comunicaci\u00f3n por consola en Python","text":"<p>En Python, la forma m\u00e1s b\u00e1sica de interactuar con el usuario en la consola es mediante las funciones <code>print()</code> e <code>input()</code>.</p>"},{"location":"01_fundamentos/#salida-de-datos-print","title":"Salida de datos <code>print()</code>","text":"<p>La usaremos para mostrar datos por la consola.</p> <pre><code>print(\"Hola, mundo\")      # Imprime un texto\nprint(42)                 # Imprime un n\u00famero\nprint(3.14, \"es pi\")      # Imprime varios valores separados por espacio\n\nnombre = \"Ana\"\nedad = 25\nprint(f\"Hola, me llamo {nombre} y tengo {edad} a\u00f1os.\") # esto es una f-string.\n</code></pre> <p>--&gt; M\u00e1s informaci\u00f3n de f-strings en python.org</p> <pre><code>a = 5\nb = 3\nprint(f\"La suma de {a} + {b} = {a+b}\")\n# \u2192 La suma de 5 + 3 = 8\n\npi = 3.14159265\nprint(f\"Pi con 2 decimales: {pi:.2f}\")   # Pi con 2 decimales: 3.14\nprint(f\"Pi con 6 decimales: {pi:.6f}\")   # Pi con 6 decimales: 3.141593\n</code></pre>"},{"location":"01_fundamentos/#entrada-de-datos-con-input","title":"Entrada de datos con <code>input()</code>","text":"<p>La funci\u00f3n <code>input()</code> permite al usuario introducir datos desde la consola. Siempre devuelve una cadana de texto (<code>str</code>) por lo que a veces ser\u00e1 necesario convertirla.</p> <p>Ejemplos b\u00e1sicos:</p> <pre><code>nombre = input(\"\u00bfC\u00f3mo te llamas? \")\nprint(\"Encantado de conocerte,\", nombre)\n</code></pre>"},{"location":"01_fundamentos/#7-tipos-de-datos-y-variables","title":"7. Tipos de datos y variables","text":""},{"location":"01_fundamentos/#tipos-de-datos-basicos","title":"Tipos de datos b\u00e1sicos","text":"<ul> <li>N\u00fameros: <code>int</code>, <code>float</code>, <code>complex</code></li> <li>Texto: <code>str</code></li> <li>Booleanos: <code>bool</code> (<code>True</code>, <code>False</code>)</li> </ul> <pre><code>edad = 25\nprecio = 19.99\nnombre = \"Python\"\nactivo = True\n\nprint(type(edad))\nprint(type(precio))\nprint(type(nombre))\nprint(type(activo))\n</code></pre>"},{"location":"01_fundamentos/#colecciones","title":"Colecciones","text":"<ul> <li>Listas: <code>[]</code> (modificables)</li> <li>Tuplas: <code>()</code> (inmutables)</li> <li>Diccionarios: <code>{clave: valor}</code></li> <li>Conjuntos: <code>{elemento1, elemento2}</code></li> </ul> <pre><code>lista = [1, 2, 3]\ntupla = (1, 2, 3)\ndiccionario = {\"nombre\": \"Ana\", \"edad\": 30}\nconjunto = {1, 2, 3}\n</code></pre>"},{"location":"01_fundamentos/#conversion-de-tipos","title":"Conversi\u00f3n de tipos","text":"<pre><code>int(\"10\")       # 10\nstr(20)         # \"20\"\nfloat(\"3.14\")   # 3.14\n</code></pre>"},{"location":"01_fundamentos/#8-tratamiento-de-errores-en-python","title":"8. Tratamiento de errores en python.","text":"<p>En programaci\u00f3n es habitual que ocurran errores (por ejemplo, al pedir un dato al usuario o al acceder a un archivo que no existe). Python permite manejar esos errores de forma controlada con las sentencias <code>try</code> y <code>except</code>.</p>"},{"location":"01_fundamentos/#try-y-except-estructura-basica","title":"<code>try</code> y <code>except</code>. Estructura b\u00e1sica","text":"<pre><code>try:\n    # C\u00f3digo que puede producir un error\n    ...\nexcept:\n    # C\u00f3digo que se ejecuta si ocurre un error\n    ...\n</code></pre>"},{"location":"01_fundamentos/#ejemplo-division-entre-0","title":"Ejemplo: Divisi\u00f3n entre 0:","text":"<pre><code>try:\n    x = int(input(\"Introduce un n\u00famero: \"))\n    resultado = 10 / x\n    print(\"El resultado es:\", resultado)\nexcept:\n    print(\"Ha ocurrido un error\")\n</code></pre> <p>Si el usuario introduce 0 o algo que no sea n\u00famero, el bloque except se encarga de mostrar un mensaje en lugar de que el programa se detenga.</p>"},{"location":"01_fundamentos/#manejo-de-errores-especificos","title":"Manejo de errores espec\u00edficos","text":"<p>En el ejemplo anterior no distinguimos el error que se ha dado pero podemos ser m\u00e1s espec\u00edficos</p> <pre><code>try:\n    x = int(input(\"Introduce un n\u00famero: \"))\n    resultado = 10 / x\n    print(\"El resultado es:\", resultado)\nexcept ValueError:\n    print(\"\u26a0\ufe0f No has introducido un n\u00famero v\u00e1lido.\")\nexcept ZeroDivisionError:\n    print(\"\u26a0\ufe0f No se puede dividir entre cero.\")\n</code></pre> <p>--&gt; Excepciones Incorporadas en Python</p>"},{"location":"01_fundamentos/#9-estructuras-de-control","title":"9. Estructuras de control","text":""},{"location":"01_fundamentos/#condicionales","title":"Condicionales","text":""},{"location":"01_fundamentos/#sentencia-if-elif-else","title":"Sentencia <code>if elif else</code>","text":"<pre><code>if edad &gt; 18:\n    print(\"Eres mayor de edad\")\nelif edad == 18:\n    print(\"Tienes justo 18\")\nelse:\n    print(\"Eres menor de edad\")\n</code></pre>"},{"location":"01_fundamentos/#sentencia-match","title":"Sentencia <code>match</code>","text":"<p>Similar a las sentencias swith/case de otros lenguajes aunque es mucho m\u00e1s potente. Se ejecuta cuando se encuentra una expresi\u00f3n que concuerda con alg\u00fan patr\u00f3n de los propuestos. El caso <code>_</code> actuar\u00eda como comod\u00edn.</p> <pre><code>def describir_dato(dato):\n    match dato:\n        case 0:\n            return \"Es un cero.\"\n        case 1 | 2 | 3:\n            return \"Es un n\u00famero peque\u00f1o (1, 2 o 3).\"\n        case int() as n if n &gt; 100:\n            return f\"Es un entero grande: {n}.\"\n        case float():\n            return f\"Es un n\u00famero decimal (float).\"\n        case str() as texto if texto.isupper():\n            return f\"Es un texto en MAY\u00daSCULAS: {texto}\"\n        case str():\n            return f\"Es una cadena de texto: '{dato}'\"\n        case [x, y]:  # patr\u00f3n de lista con dos elementos\n            return f\"Es una lista de 2 elementos: {x} y {y}\"\n        case _:\n            return \"No s\u00e9 qu\u00e9 es.\"\n\n# Probar:\nprint(describir_dato(0))\nprint(describir_dato(2))\nprint(describir_dato(150))\nprint(describir_dato(3.14))\nprint(describir_dato(\"HOLA\"))\nprint(describir_dato(\"hola\"))\nprint(describir_dato([10, 20]))\nprint(describir_dato({\"a\": 1}))\n</code></pre>"},{"location":"01_fundamentos/#bucles","title":"Bucles","text":""},{"location":"01_fundamentos/#bucles-for","title":"Bucles <code>for</code>","text":"<p><code>for .. in</code> nos permite iterar sobre colecciones de cuaquier tipo.</p> <ul> <li>Para iterar sobre n\u00fameros podemos usar la funci\u00f3n range.</li> <li>Podemos iterar sobre una lista de cualquier tipo de elementos.</li> </ul> <p>For Statement @ python.org</p> <pre><code># Bucle for iterando en un rango num\u00e9rico\nfor i in range(5):\n    print(i)\n\nlista = [\"gato\",\"perro\",\"canario\",\"caim\u00e1n\",\"oso polar\",\"serpiente pit\u00f3n\"]\n# iteramos sobre los elementos de la lista\nfor pet in lista:\n  print(pet)\n</code></pre>"},{"location":"01_fundamentos/#bucle-while","title":"Bucle <code>while</code>","text":"<p>Ejemplo de un bucle sencillo. La condici\u00f3n es en base a un contador que se va decrementando.</p> <pre><code>contador = 0\nwhile contador &lt; 5:\n    print(contador)\n    contador += 1\n</code></pre> <p>Ejemplo de c\u00f3mo usar un bucle while infinito junto con un bloque <code>try except</code> y un <code>break</code> para solicitar un valor hasta que el valor sea correcto.</p> <pre><code>while True:\n    try:\n        edad = int(input(\"Introduce tu edad: \"))\n        break\n    except ValueError:\n        print(\"\u26a0\ufe0f Eso no es un n\u00famero, int\u00e9ntalo de nuevo.\")\n\nprint(f\"Tu edad es {edad}\")\n</code></pre>"},{"location":"01_fundamentos/#control-de-flujo","title":"Control de flujo","text":"<p>Podemos controlar el flujo de la ejecuci\u00f3n con:</p> <ul> <li><code>break</code>: Sale del bucle.</li> <li><code>continue</code>: salta al siguiente ciclo del bucle sin ejecutar lo que hay detr\u00e1s.</li> </ul> <p>--&gt; Break and Continue Statements @ python.org</p> <pre><code>for i in range(10):\n    if i == 5:\n        break  # sale del bucle\n    if i % 2 == 0:\n        continue  # salta al siguiente ciclo\n    print(i)\n</code></pre> <ul> <li>La sentencia <code>else</code> en un bucle se ejecuta solo cuando no se ejecuta break.</li> </ul> <p>Podemos verlo en este ejemplo donde se comprueban n\u00fameros para ver si son primos (ejemplo tomado de docs.python.org)</p> <pre><code>for n in range(2, 10):\n    for x in range(2, n):\n        if n % x == 0:\n            print(n, 'equals', x, '*', n//x)\n            break\n    else:\n        # loop fell through without finding a factor\n        print(n, 'is a prime number')\n</code></pre>"},{"location":"01_fundamentos/#sentencia-pass","title":"Sentencia <code>pass</code>","text":"<p>Esta sentencia no hace nada, literalmente. Se usa cuando necesitamos meter c\u00f3digo para que algo sea sint\u00e1cticamente correcto pero a\u00fan no hemos definido qu\u00e9 hay que hacer.</p> <p>Ejemplos:</p> <pre><code>while True:\n    pass  # Busy-wait for keyboard interrupt (Ctrl+C)\n\nclass MyEmptyClass:\n    pass\n\ndef initlog(*args):\n    pass   # Remember to implement this!\n</code></pre>"},{"location":"01_fundamentos/#10-funciones-y-modulos","title":"10. Funciones y m\u00f3dulos","text":""},{"location":"01_fundamentos/#funciones","title":"Funciones","text":"<ul> <li>Las funciones se definen mediante la palabra reservada def.</li> <li>La primera sentencia de la funci\u00f3n puede ser un docstring que nos indique el prop\u00f3sito de la funci\u00f3n y el modo de uso. Es recomendable definirlo.</li> <li>Opcionalmente la funci\u00f3n puede devolver algo con la palabra reservada <code>return</code>.</li> </ul> <pre><code>def saludar(nombre):\n    \"\"\"Funci\u00f3n muy simple que solo sirve para saludar al nombre que le pases como argumento\"\"\"\n    return f\"Hola, {nombre}\"\n\nprint(saludar(\"Luc\u00eda\"))\n</code></pre> <pre><code>def fib(n):    # escribir la serie de fibonacci por debajo de n\n    \"\"\"Print a Fibonacci series less than n.\"\"\"\n    a, b = 0, 1\n    while a &lt; n:\n        print(a, end=' ')\n        a, b = b, a+b\n    print()\n\n# Llamamos la funci\u00f3n\nfib(2000)\n</code></pre> <p>--&gt; Functions @ python.org</p>"},{"location":"01_fundamentos/#tipos-de-parametros","title":"Tipos de par\u00e1metros","text":""},{"location":"01_fundamentos/#1-parametros-posicionales","title":"1. Par\u00e1metros posicionales","text":"<p>Se pasan en el orden exacto en que fueron definidos</p> <pre><code>def presentacion(nombre, edad):\n    print(f\"{nombre} tiene {edad} a\u00f1os\")\n\npresentacion(\"Ana\", 25)\n</code></pre>"},{"location":"01_fundamentos/#2-por-palabra-clave-keyword-arguments","title":"2. Por palabra clave (keyword arguments)","text":"<p>Se especifica el nonmbre del par\u00e1metro al llamar a la funci\u00f3n. No importa el orden.</p> <pre><code>presentacion(edad=25, nombre=\"Ana\")\n</code></pre>"},{"location":"01_fundamentos/#3-valores-por-defecto","title":"3. Valores por defecto","text":"<p>Se puede asignar un valor si el par\u00e1metro no se proporciona.</p> <pre><code>def saludar(nombre=\"Usuario\"):\n    print(f\"\u00a1Hola, {nombre}!\")\n\nsaludar()       # \u00a1Hola, Usuario!\nsaludar(\"Ana\")  # \u00a1Hola, Ana!\n</code></pre>"},{"location":"01_fundamentos/#4-parametros-arbitrarios-args","title":"4. Par\u00e1metros arbitrarios (<code>*args</code>)","text":"<p>Permite pasar cualquier n\u00famero de argumentos posicionales. Dentro de la funci\u00f3n se recibe como una tupla.</p> <pre><code>def sumar(*numeros):\n    total = sum(numeros)\n    print(f\"La suma es {total}\")\n\nsumar(2, 5, 7)\nsumar(1, 2, 3, 4, 5)\n</code></pre>"},{"location":"01_fundamentos/#5-parametros-arbitrarios-por-palabra-clave-kwargs","title":"5. Par\u00e1metros arbitrarios por palabra clave (<code>**kwargs</code>)","text":"<p>Permite pasar cualquier n\u00famero de argumentos con nombre. Dentro de la funci\u00f3n se recibe como un diccionario.</p> <pre><code>def mostrar_info(**info):\n    for clave, valor in info.items():\n        print(f\"{clave}: {valor}\")\n\nmostrar_info(nombre=\"Ana\", edad=25, ciudad=\"Madrid\")\n</code></pre>"},{"location":"01_fundamentos/#6-combinacion-de-tipos","title":"6. Combinaci\u00f3n de tipos","text":"<p>Se pueden combinar todos los tipos, pero en orden:</p> <pre><code>def funcion(posicional, default=1, *args, **kwargs):\n    ...\n</code></pre> <p>Ejemplo:</p> <pre><code>def ejemplo(a, b=10, *args, **kwargs):\n    print(a, b, args, kwargs)\n\nejemplo(1, 2, 3, 4, x=100, y=200)\n# Salida: 1 2 (3, 4) {'x': 100, 'y': 200}\n</code></pre>"},{"location":"01_fundamentos/#modulos-estandar","title":"M\u00f3dulos est\u00e1ndar","text":"<ul> <li>Importar un m\u00f3dulo est\u00e1ndar:</li> </ul> <pre><code>import math\nprint(math.sqrt(16))\n</code></pre> <ul> <li>Importar una funci\u00f3n espec\u00edfica:</li> </ul> <pre><code>from math import sqrt\nprint(sqrt(25))\n</code></pre>"},{"location":"01_fundamentos/#modulos-creados-por-el-usuario","title":"M\u00f3dulos creados por el usuario","text":"<pre><code># calculos.py\ndef sumar(a: int, b: int) -&gt; int:\n    return a + b\n\ndef restar(a: int, b: int) -&gt; int:\n    return a - b\n</code></pre> <p>Importar desde otro archivo (han de estar en el mismo directorio):</p> <pre><code># main.py\nimport calculos\nprint(calculos.sumar(3, 5))\n\n# o funciones concretas\nfrom calculos import sumar, restar\nprint(sumar(3, 5))\n</code></pre>"},{"location":"01_fundamentos/#subcarpetas-como-paquetes","title":"Subcarpetas como paquetes","text":"<p>Estructura de ejemplo:</p> <pre><code>mi_proyecto/\n\u251c\u2500\u2500 main.py\n\u2514\u2500\u2500 utils/\n    \u251c\u2500\u2500 __init__.py\n    \u2514\u2500\u2500 helpers.py\n</code></pre> <p>Importaci\u00f3n desde <code>main.py</code>:</p> <pre><code>from utils.helpers import funcion_auxiliar\nfuncion_auxiliar()\n</code></pre> <ul> <li><code>__init__.py</code> marca la carpeta como paquete.</li> <li>Usa <code>if __name__ == \"__main__\":</code> para evitar ejecutar c\u00f3digo de prueba al importar.</li> </ul>"},{"location":"01_fundamentos/#11-uso-de-if-__name__-__main__","title":"11. Uso de <code>if __name__ == \"__main__\":</code>","text":"<pre><code>if __name__ == \"__main__\":\n    # C\u00f3digo que se ejecuta solo si el archivo se ejecuta directamente\n</code></pre> <ul> <li>Permite separar c\u00f3digo ejecutable del c\u00f3digo importable.</li> <li>Mejora la reutilizaci\u00f3n y legibilidad.</li> </ul>"},{"location":"01_fundamentos/#12-entornos-de-desarrollo","title":"12. Entornos de desarrollo","text":""},{"location":"01_fundamentos/#entornos-virtuales-con-venv","title":"Entornos virtuales con <code>venv</code>","text":""},{"location":"01_fundamentos/#que-es","title":"\u00bfQue es?","text":"<ul> <li>Es un directorio aislado que contiene una instalaci\u00f3n de Python y sus propias librer\u00edas y paquetes. Su principal objetivo es aislar las dependencias entre diferentes proyectos para evitar conflictos entre diferentes versiones de paquetes y asegurar que cada proyecto tenga unicamente las bibliotecas que necesita.</li> </ul>"},{"location":"01_fundamentos/#trabajar-con-entornos-virtuales-en-vscode","title":"Trabajar con entornos virtuales en VsCode","text":""},{"location":"01_fundamentos/#pasos-previos","title":"Pasos Previos","text":"<ul> <li>En primer lugar crearemos el directorio f\u00edsico donde se alojaran los archivos de nuestro proyecto.</li> <li>Luego abrimos ese directorio en el Explorador de VsCode:   </li> </ul>"},{"location":"01_fundamentos/#creacion","title":"Creaci\u00f3n","text":"<ul> <li>Desde la pesta\u00f1a Terminal abrimos un nuevo terminal y ejecutamos el siguiente comando, que crear\u00e1 nuestro entorno virtual:</li> </ul> <pre><code>python -m venv envMiEntorno\n</code></pre>"},{"location":"01_fundamentos/#activacion","title":"Activaci\u00f3n","text":"<ul> <li>Una vez hemos creado el entorno, debemos activarlo. Para ello escribiremos lo siguiente:</li> </ul> <pre><code>envMiEntorno\\Scripts\\activate\n</code></pre> <pre><code>- :information_source: Es posible que recibamos un error al ejecutar el comando anterior, ya que Windows por defecto tiene deshabilitada la ejecuci\u00f3n de scripts. En ese caso, abriremos PowerShell como Administrador y ejecutamos los siguientes comandos:\n    ```powershell\n    Get-ExecutionPolicy -List\n    Set-ExecutionPolicy RemoteSigned -Scope CurrentUser\n    ```\n</code></pre>"},{"location":"01_fundamentos/#instalacion-de-librerias-externas","title":"Instalaci\u00f3n de librer\u00edas externas","text":"<ul> <li>Mediante el comando pip accedemos al gestor de paquetes est\u00e1ndar de Python, que nos permite instalar y administrar software de terceros f\u00e1cilmente, para que podamos usarlo en nuestro proyecto. Para ello hace uso del repositorio Python Package Index (PyPI). Por ejemplo:</li> </ul> <pre><code>pip install nombre_del_paquete\n</code></pre> <pre><code>pip install mkdocs\npip install mkdocs-material\n</code></pre>"},{"location":"01_fundamentos/#listar-dependencias","title":"Listar dependencias","text":"<ul> <li>Una dependencia es cualquier paquete software o librer\u00eda externa que tu proyecto requiere para funcionar, pero que no est\u00e1 incluido en la instalaci\u00f3n b\u00e1sica de Python.</li> <li>Por lo tanto, cada vez que instalamos un nuevo paquete, estamos a\u00f1adiendo dependencias a nuestro proyecto.</li> <li>Con el siguiente comando podemos ver cada una de las dependencias instaladas en nuestro entorno virtual, con sus correspondientes versiones:</li> </ul> <pre><code>pip freeze\n</code></pre>"},{"location":"01_fundamentos/#exportar-dependencias","title":"Exportar dependencias","text":"<ul> <li>Por buenas pr\u00e1cticas de programaci\u00f3n, los entornos virtuales nunca se suben a los repositorios de \"git\" o de cualquier otro manejador de versiones.</li> <li>Por ello, siempre es muy recomendable crear un archivo llamado requirements.txt, en el cual almacenaremos el listado de todas las dependencias que necesita nuestro proyecto:</li> </ul> <pre><code>pip freeze &gt; requirements.txt\n</code></pre> <ul> <li>Este archivo SI se sube al repositorio. De modo que, podremos generar nuevamente nuestro entorno en cualquier dispositivo o sistema operativo que deseemos, mediante el siguiente comando:</li> </ul> <pre><code>pip install -r requirements.txt\n</code></pre> <pre><code>python -m venv mi_entorno\nsource mi_entorno/bin/activate  # Linux/macOS\nmi_entorno\\Scripts\\activate     # Windows\n</code></pre> <p>--&gt; Entornos Virtuales @ python.org</p>"},{"location":"01_fundamentos/#12-tipado-en-python-type-hints","title":"12. Tipado en Python (Type Hints)","text":"<p>Python es un lenguaje din\u00e1micamente tipado, lo que significa que no es obligatorio declarar el tipo de las variables:</p> <pre><code>nombre = \"Ana\"   # str\nedad = 30        # int\n</code></pre> <p>Sin embargo, podemos usar type hints para indicar tipos de forma opcional:</p>"},{"location":"01_fundamentos/#tipado-de-variables","title":"Tipado de variables","text":"<pre><code>nombre: str = \"Ana\"\nedad: int = 30\nprecio: float = 19.99\nactivo: bool = True\n</code></pre>"},{"location":"01_fundamentos/#tipado-en-funciones","title":"Tipado en funciones","text":"<pre><code>def sumar(a: int, b: int) -&gt; int:\n    return a + b\n\ndef saludar(nombre: str) -&gt; None:\n    print(f\"Hola, {nombre}\")\n</code></pre> <ul> <li><code>-&gt; int</code> indica que la funci\u00f3n devuelve un entero.</li> <li><code>-&gt; None</code> indica que no devuelve nada (solo efecto secundario, como imprimir).</li> </ul>"},{"location":"01_fundamentos/#tipos-mas-complejos-sintaxis-moderna-desde-python-35","title":"Tipos m\u00e1s complejos (sintaxis moderna, desde python 3.5)","text":"<ul> <li>Listas:</li> </ul> <pre><code>numeros: list[int] = [1, 2, 3, 4]\nnombres: list[str] = [\"Ana\", \"Luis\"]\n</code></pre> <ul> <li>Diccionarios:</li> </ul> <pre><code>edades: dict[str, int] = {\"Ana\": 30, \"Luis\": 25}\n</code></pre> <ul> <li>Tuplas y sets:</li> </ul> <pre><code>coordenadas: tuple[float, float] = (10.5, 20.3)\nvalores: set[int] = {1, 2, 3}\n</code></pre> <ul> <li>Tipos combinados:</li> </ul> <pre><code>valor: int | float = 3.14  # equivalente a Union[int, float]\n</code></pre> <p>Antes de Python 3.9 para declarar estos tipos m\u00e1s complejos hab\u00eda que importar desde la librer\u00eda</p> <pre><code># Antes (Python &lt; 3.9)\nfrom typing import List, Dict\n\nnumeros: List[int] = [1, 2, 3]\nedades: Dict[str, int] = {\"Ana\": 30, \"Luis\": 25}\n\n# Ahora (Python &gt;= 3.9)\nnumeros: list[int] = [1, 2, 3]\nedades: dict[str, int] = {\"Ana\": 30, \"Luis\": 25}\n</code></pre>"},{"location":"01_fundamentos/#ventajas-del-tipado","title":"Ventajas del tipado","text":"<ul> <li>Mejora legibilidad y documentaci\u00f3n del c\u00f3digo.</li> <li>Ayuda a linters y editores a detectar errores antes de ejecutar.</li> <li>Facilita la comprensi\u00f3n en proyectos grandes o colaborativos.</li> </ul>"},{"location":"01_fundamentos/#ejercicio-practico-completo","title":"Ejercicio pr\u00e1ctico completo","text":"<p>Crea un programa que:</p> <ol> <li>Pida nombre, edad y ciudad.</li> <li>Guarde informaci\u00f3n en variables con tipado.</li> <li>Use condicionales y bucles.</li> <li>Imprima mensajes formateados.</li> <li>Tenga funciones en un m\u00f3dulo propio (<code>funciones.py</code>) y se importe desde el script principal.</li> <li>Use <code>if __name__ == \"__main__\":</code> en el m\u00f3dulo.</li> </ol>"},{"location":"02_tratamiento_datos/","title":"Unidad 2: Manejo de datos con Pandas (orientado a APIs)","text":""},{"location":"02_tratamiento_datos/#1-introduccion","title":"1. Introducci\u00f3n","text":"<p>pandas es la librer\u00eda est\u00e1ndar para manipulaci\u00f3n de datos en Python. Permite leer, limpiar, transformar y exportar datos f\u00e1cilmente, y ser\u00e1 muy \u00fatil para preparar la informaci\u00f3n que serviremos desde nuestras APIs.</p> <p>Estructuras principales:</p> <ul> <li>Series \u2192 estructura 1D (como una lista con etiquetas).</li> <li>DataFrame \u2192 estructura 2D (tabla con filas y columnas).</li> </ul>"},{"location":"02_tratamiento_datos/#instalacion","title":"\ud83d\udd27 Instalaci\u00f3n","text":"<p>\u2699\ufe0f Nota: Si usas Google Colab, Jupyter Notebook o Anaconda, pandas ya est\u00e1 instalado. Si trabajas desde VS Code, la terminal o un entorno virtual, inst\u00e1lalo con:</p> <pre><code>pip install pandas\n</code></pre>"},{"location":"02_tratamiento_datos/#2-jupyter-notebook","title":"2. Jupyter Notebook","text":"<p>Jupyter Notebook: entorno interactivo para trabajar con datos</p> <p>Jupyter Notebook es una herramienta que permite escribir y ejecutar c\u00f3digo Python de forma interactiva, mezclando texto, c\u00f3digo y resultados en un mismo documento. Es el entorno m\u00e1s usado en ciencia de datos y an\u00e1lisis porque permite ir probando paso a paso el c\u00f3digo y ver directamente las salidas de pandas en forma de tabla.</p>"},{"location":"02_tratamiento_datos/#ventajas-principales","title":"\ud83d\udd39 Ventajas principales","text":"<ul> <li>Ejecuci\u00f3n celda a celda, ideal para pruebas incrementales.</li> <li>Permite documentar con texto y Markdown el an\u00e1lisis.</li> <li>Muestra los resultados de gr\u00e1ficos, tablas y outputs directamente bajo cada celda.</li> <li>Perfecto para experimentar, limpiar y explorar datos antes de usarlos en una aplicaci\u00f3n o API.</li> </ul>"},{"location":"02_tratamiento_datos/#estructura-basica","title":"\ud83d\udd39 Estructura b\u00e1sica","text":"<p>Cada notebook se compone de celdas:</p> <ul> <li>Celdas de c\u00f3digo (donde se escribe Python).</li> <li>Celdas de texto Markdown (para explicaciones, t\u00edtulos, listas, etc.).</li> </ul> <p>Ejemplo:</p> <pre><code>import pandas as pd\n\ndf = pd.DataFrame({\n    \"nombre\": [\"Ana\", \"Luis\", \"Marta\"],\n    \"edad\": [25, 30, 22]\n})\ndf\n</code></pre> <p>\ud83d\udca1 En un notebook, al ejecutar esa celda, la tabla <code>DataFrame</code> se muestra de forma visual y formateada (m\u00e1s agradable que en la consola).</p>"},{"location":"02_tratamiento_datos/#como-instalar-y-ejecutar-jupyter-notebook","title":"\ud83d\udd39 C\u00f3mo instalar y ejecutar Jupyter Notebook","text":"<p>Si usas Anaconda, ya viene instalado. Si no, puedes instalarlo manualmente con:</p> <pre><code>pip install notebook\n</code></pre> <p>Luego se lanza desde la terminal con:</p> <pre><code>jupyter notebook\n</code></pre> <p>Esto abrir\u00e1 una pesta\u00f1a en el navegador, normalmente en la direcci\u00f3n <code>http://localhost:8888</code>, desde donde puedes crear nuevos notebooks <code>.ipynb</code>.</p>"},{"location":"02_tratamiento_datos/#alternativas-modernas","title":"\ud83d\udd39 Alternativas modernas","text":"<ul> <li>JupyterLab \u2192 versi\u00f3n m\u00e1s avanzada con pesta\u00f1as, paneles, explorador de archivos, etc.</li> <li>VS Code \u2192 permite abrir y ejecutar notebooks directamente sin salir del editor.</li> <li>Google Colab \u2192 entorno online gratuito (no requiere instalaci\u00f3n).</li> </ul>"},{"location":"02_tratamiento_datos/#usar-jupyter-online-google-colab","title":"\ud83d\udd39 Usar Jupyter online (Google Colab)","text":"<p>Google Colab es una opci\u00f3n ideal para los alumnos que no quieren configurar nada localmente. Solo hace falta tener una cuenta de Google y acceder a:</p> <p>\ud83d\udc49 https://colab.research.google.com</p> <p>Ventajas:</p> <ul> <li>No requiere instalaci\u00f3n.</li> <li>Permite guardar los notebooks en Google Drive.</li> <li>Ya trae pandas, NumPy y matplotlib instalados.</li> <li>Se pueden importar datasets directamente desde URLs o desde el Drive.</li> </ul> <p>Ejemplo de carga de CSV desde URL:</p> <pre><code>import pandas as pd\n\nurl = \"https://raw.githubusercontent.com/mwaskom/seaborn-data/master/iris.csv\"\ndf = pd.read_csv(url)\ndf.head()\n</code></pre>"},{"location":"02_tratamiento_datos/#guardar-y-compartir-notebooks","title":"\ud83d\udd39 Guardar y compartir notebooks","text":"<p>Los notebooks se guardan con extensi\u00f3n <code>.ipynb</code>. Pueden compartirse f\u00e1cilmente:</p> <ul> <li>Por correo o Drive (como cualquier archivo).</li> <li>Export\u00e1ndose a otros formatos: HTML, PDF, Markdown, etc.</li> </ul> <pre><code>jupyter nbconvert --to html mi_notebook.ipynb\n</code></pre> <p>\u2699\ufe0f En resumen: Usa Jupyter Notebook o Colab para explorar y limpiar datos. M\u00e1s adelante, cuando construyas las APIs, trabajar\u00e1s con los mismos scripts <code>.py</code> pero ya listos para producci\u00f3n.</p>"},{"location":"02_tratamiento_datos/#3-crear-y-cargar-datos","title":"3. Crear y cargar datos","text":"<pre><code>import pandas as pd\n\n# Crear un DataFrame desde un diccionario\ndata = {\n    \"nombre\": [\"Ana\", \"Luis\", \"Marta\"],\n    \"edad\": [25, 30, 22],\n    \"ciudad\": [\"Madrid\", \"Sevilla\", \"Valencia\"]\n}\ndf = pd.DataFrame(data)\n</code></pre> <p>Tambi\u00e9n podemos cargar datos desde distintos formatos:</p> <pre><code># Desde un CSV\ndf_csv = pd.read_csv(\"personas.csv\")\n\n# Desde un Excel\ndf_excel = pd.read_excel(\"personas.xlsx\", sheet_name=\"Hoja1\")\n\n# Desde un JSON\ndf_json = pd.read_json(\"personas.json\")\n</code></pre>"},{"location":"02_tratamiento_datos/#4-seleccion-filtrado-y-ordenacion","title":"4. Selecci\u00f3n, filtrado y ordenaci\u00f3n.","text":"<pre><code># Seleccionar una columna\nnombres = df[\"nombre\"]\n\n# Filtrar por condici\u00f3n\nmayores_25 = df[df[\"edad\"] &gt; 25]\n\n# Seleccionar varias columnas\nsub_df = df[[\"nombre\", \"ciudad\"]]\n\n# Seleccionar una fila por \u00edndice\nfila_0 = df.loc[0]\n</code></pre>"},{"location":"02_tratamiento_datos/#agrupaciones-y-ordenacion","title":"Agrupaciones y ordenaci\u00f3n","text":"<pre><code># Media de edad por ciudad\nprint(df.groupby(\"ciudad\")[\"edad\"].mean())\n\n# Ordenar por edad descendente\ndf_ordenado = df.sort_values(by=\"edad\", ascending=False)\n</code></pre>"},{"location":"02_tratamiento_datos/#5-exploracion-y-deteccion-de-valores-anomalos","title":"5. Exploraci\u00f3n y detecci\u00f3n de valores an\u00f3malos","text":""},{"location":"02_tratamiento_datos/#exploracion-rapida","title":"Exploraci\u00f3n r\u00e1pida","text":"<pre><code>print(df.head())       # primeras filas\nprint(df.shape)        # dimensiones\nprint(df.columns)      # nombres de columnas\nprint(df.info())       # informaci\u00f3n general\nprint(df.describe())   # estad\u00edsticas b\u00e1sicas\n</code></pre>"},{"location":"02_tratamiento_datos/#deteccion-de-valores-anomalos","title":"Detecci\u00f3n de valores an\u00f3malos","text":"<p>Antes de limpiar los datos, es recomendable explorar su contenido para detectar errores frecuentes:</p> <ul> <li>Valores duplicados o vac\u00edos.</li> <li>Diferencias de formato (por ejemplo, may\u00fasculas/min\u00fasculas o espacios).</li> <li>Abreviaturas o nombres inconsistentes.</li> <li>Outliers (valores num\u00e9ricos fuera de rango).</li> </ul> <p>Una funci\u00f3n muy \u00fatil para inspeccionar el contenido de cada columna es <code>.unique()</code>:</p> <pre><code>import pandas as pd\n\ndf = pd.read_csv(\"datos.csv\")\n\n# Mostrar los valores \u00fanicos de las columnas categ\u00f3ricas\nprint(df[\"ciudad\"].unique())\nprint(df[\"nombre\"].unique())\n</code></pre> <p>Tambi\u00e9n se pueden obtener estad\u00edsticas r\u00e1pidas con:</p> <pre><code>df.describe(include=\"all\")\n</code></pre> <p>Esto muestra recuentos, medias, m\u00ednimos, m\u00e1ximos y frecuencias m\u00e1s comunes. A partir de aqu\u00ed, puedes decidir qu\u00e9 reglas aplicar en tu limpieza (por ejemplo, reemplazar abreviaturas o eliminar valores an\u00f3malos).</p>"},{"location":"02_tratamiento_datos/#7-limpieza-de-datos","title":"7. Limpieza de datos","text":"<pre><code># Comprobar valores nulos\ndf.isna().sum()\n\n# Eliminar filas con valores nulos\ndf = df.dropna()\n\n# Rellenar nulos con la media de la columna\ndf[\"edad\"] = df[\"edad\"].fillna(df[\"edad\"].mean())\n\n# Eliminar duplicados\ndf = df.drop_duplicates()\n\n# Normalizar texto\ndf[\"nombre\"] = df[\"nombre\"].str.strip().str.title()\n\n# Conversi\u00f3n de tipos\ndf[\"edad\"] = pd.to_numeric(df[\"edad\"], errors=\"coerce\")\ndf[\"fecha\"] = pd.to_datetime(df.get(\"fecha\"), errors=\"coerce\")\n\n# Reemplazar valores\ndf[\"ciudad\"] = df[\"ciudad\"].replace({\"Mad\": \"Madrid\", \"Sev\": \"Sevilla\"})\n</code></pre>"},{"location":"02_tratamiento_datos/#uso-de-expresiones-regulares-en-la-limpieza-de-datos","title":"Uso de expresiones regulares en la limpieza de datos","text":"<p>Las expresiones regulares (regex) son una herramienta muy potente para detectar o corregir patrones en texto. En pandas se pueden usar directamente con m\u00e9todos como <code>.str.contains()</code> o <code>.str.replace()</code>.</p> <p>Por ejemplo, para eliminar caracteres no alfab\u00e9ticos de los nombres:</p> <pre><code>df[\"nombre\"] = df[\"nombre\"].str.replace(r\"[^a-zA-Z\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00f1\u00d1\\s]\", \"\", regex=True)\n</code></pre> <p>Para validar emails correctamente formados:</p> <pre><code>df = df[df[\"email\"].str.contains(r\"^[\\w\\.-]+@[\\w\\.-]+\\.\\w+$\", na=False)]\n</code></pre> <p>O para detectar filas donde el n\u00famero de tel\u00e9fono no tenga 9 d\u00edgitos:</p> <pre><code>telefonos_erroneos = df[~df[\"telefono\"].str.contains(r\"^\\d{9}$\", na=False)]\nprint(telefonos_erroneos)\n</code></pre> <p>Las regex permiten automatizar muchas tareas de limpieza textual:</p> <ul> <li>Normalizaci\u00f3n de formatos (fechas, c\u00f3digos postales, tel\u00e9fonos).</li> <li>Detecci\u00f3n de errores de escritura.</li> <li>Filtrado o eliminaci\u00f3n de datos inv\u00e1lidos.</li> </ul> <p>\ud83d\udca1 Consejo: puedes probar tus expresiones regulares en sitios web como regex101.com antes de aplicarlas en tu c\u00f3digo.</p>"},{"location":"02_tratamiento_datos/#8-guardar-y-exportar-datos-csv-excel-json","title":"8. Guardar y exportar datos (CSV, Excel, JSON)","text":"<p>Una vez limpios los datos, es habitual guardarlos para su reutilizaci\u00f3n o para servirlos desde una API.</p> <pre><code># Guardar como CSV\ndf.to_csv(\"personas_limpias.csv\", index=False)\n\n# Guardar como Excel\ndf.to_excel(\"personas_limpias.xlsx\", index=False, sheet_name=\"Datos\")\n\n# Guardar como JSON\ndf.to_json(\"personas_limpias.json\", orient=\"records\", indent=4, force_ascii=False)\n</code></pre> <p>\ud83d\udc49 En general:</p> <ul> <li>CSV \u2192 formato m\u00e1s universal y ligero.</li> <li>Excel \u2192 pr\u00e1ctico para informes o colaboraci\u00f3n.</li> <li>JSON \u2192 ideal para APIs.</li> </ul>"},{"location":"02_tratamiento_datos/#9-preparar-datos-para-api","title":"9. Preparar datos para API","text":"<p>Las APIs suelen devolver datos en formato JSON. Podemos convertir f\u00e1cilmente un DataFrame en JSON o en una lista de diccionarios.</p> <pre><code># DataFrame \u2192 lista de diccionarios\ndata_api = df.to_dict(orient=\"records\")\n\n# DataFrame \u2192 cadena JSON\njson_str = df.to_json(orient=\"records\", indent=4, force_ascii=False)\n</code></pre> <p>Ejemplo pr\u00e1ctico (usando FastAPI):</p> <pre><code>from fastapi import FastAPI\nfrom fastapi.responses import JSONResponse\nimport pandas as pd\n\napp = FastAPI()\n\n@app.get(\"/personas\")\ndef obtener_personas():\n    df = pd.read_csv(\"personas_limpias.csv\")\n    data = df.to_dict(orient=\"records\")\n    return JSONResponse(content=data)\n</code></pre>"},{"location":"02_tratamiento_datos/#10-resumen-del-flujo-para-apis","title":"10. Resumen del flujo para APIs","text":"<ol> <li>Cargar datos desde CSV, Excel o JSON.</li> <li>Explorar y limpiar: eliminar duplicados, manejar nulos, normalizar texto y tipos.</li> <li>Filtrar o transformar seg\u00fan las necesidades del endpoint.</li> <li>Exportar o convertir a JSON para devolver desde la API.</li> </ol>"},{"location":"03_framework_api_rest/","title":"Unidad 3: Frameworks para Construcci\u00f3n de APIs de Datos en Python","text":""},{"location":"03_framework_api_rest/#1-introduccion","title":"1. Introducci\u00f3n","text":"<p>En esta unidad veremos los principales frameworks para crear APIs de datos en Python, sus caracter\u00edsticas, ventajas y desventajas. Finalmente, nos centraremos en FastAPI, que ser\u00e1 el framework elegido para desarrollar una API de datos sencilla.</p> <p>Las APIs permiten exponer datos y funcionalidades a trav\u00e9s de endpoints accesibles mediante HTTP, facilitando la comunicaci\u00f3n entre aplicaciones.</p>"},{"location":"03_framework_api_rest/#2-que-es-una-api-rest","title":"2. \u00bfQu\u00e9 es una API REST?","text":"<p>Una API REST (Representational State Transfer) sigue un conjunto de principios arquitect\u00f3nicos que permiten comunicar sistemas usando peticiones HTTP est\u00e1ndar como GET, POST, PUT, DELETE.</p> <p>Principios b\u00e1sicos:</p>"},{"location":"03_framework_api_rest/#21-cliente-servidor","title":"2.1 Cliente-servidor","text":"<p>El principio cliente-servidor establece una separaci\u00f3n clara entre:</p> <ul> <li>Cliente: navegador, app m\u00f3vil, frontend, script\u2026</li> <li>Servidor: la API que expone los datos y la l\u00f3gica.</li> </ul> <p>Esta separaci\u00f3n permite:</p> <ul> <li>Que el cliente no conozca la implementaci\u00f3n interna.</li> <li>Que el servidor no se preocupe por c\u00f3mo se muestran los datos.</li> <li>Que m\u00faltiples clientes diferentes utilicen la misma API.</li> </ul> <p>Ejemplo: un frontend React consume <code>GET /productos</code> y muestra los datos como quiera; el servidor solo env\u00eda JSON.</p>"},{"location":"03_framework_api_rest/#22-sin-estado-stateless","title":"2.2 Sin estado (stateless)","text":"<p>En REST, cada petici\u00f3n HTTP es totalmente independiente. El servidor no mantiene informaci\u00f3n de sesi\u00f3n entre peticiones.</p> <p>Esto significa que:</p> <ul> <li>Cada petici\u00f3n debe incluir toda la informaci\u00f3n necesaria.</li> <li>Las credenciales o tokens deben enviarse en cada petici\u00f3n.</li> <li>El servidor no \u201crecuerda\u201d nada entre peticiones.</li> </ul> <p>Esto mejora la escalabilidad, la tolerancia a fallos y la simplicidad del servidor.</p> <p>Ejemplo de dos peticiones independientes:</p> <pre><code>Request 1:\nGET /perfil\nAuthorization: Bearer abc123\n\nRequest 2:\nGET /config\nAuthorization: Bearer abc123\n</code></pre> <p>Cada una contiene todo lo necesario, sin estado almacenado en el servidor.</p>"},{"location":"03_framework_api_rest/#23-recursos-identificados-por-urls","title":"2.3 Recursos identificados por URLs","text":"<p>En REST, todo recurso de la aplicaci\u00f3n debe tener una URL \u00fanica:</p> <ul> <li><code>/users</code></li> <li><code>/users/15</code></li> <li><code>/products</code></li> <li><code>/products/247/reviews</code></li> </ul> <p>Las URLs representan qu\u00e9 recurso quieres. El c\u00f3mo se indica mediante el m\u00e9todo HTTP:</p> <ul> <li><code>GET /users</code> \u2014 obtener usuarios</li> <li><code>POST /users</code> \u2014 crear usuario</li> <li><code>DELETE /users/7</code> \u2014 borrar usuario</li> </ul> <p>Regla b\u00e1sica:</p> <ul> <li>URLs = sustantivos, nunca verbos.</li> <li>\u274c <code>/getUsers</code></li> <li>\u2714 <code>/users</code></li> </ul>"},{"location":"03_framework_api_rest/#24-uso-comun-de-json","title":"2.4 Uso com\u00fan de JSON","text":"<p>Aunque REST no obliga al uso de JSON, hoy en d\u00eda es el formato est\u00e1ndar porque:</p> <ul> <li>Es ligero y f\u00e1cil de leer.</li> <li>Se integra muy bien con JavaScript.</li> <li>Est\u00e1 soportado ampliamente por todos los lenguajes.</li> <li>Es muy c\u00f3modo de usar con Python y FastAPI.</li> </ul> <p>Ejemplo de JSON t\u00edpico:</p> <pre><code>{\n  \"id\": 12,\n  \"nombre\": \"Smart TV\",\n  \"precio\": 599.99,\n  \"stock\": true\n}\n</code></pre> <p>FastAPI valida autom\u00e1ticamente datos JSON y genera documentaci\u00f3n OpenAPI basada en ellos.</p>"},{"location":"03_framework_api_rest/#3-frameworks-en-python-para-crear-apis","title":"3. Frameworks en Python para crear APIs","text":""},{"location":"03_framework_api_rest/#31-flask","title":"3.1 Flask","text":"<p>Framework minimalista, flexible y muy extendido.</p> <p>Ventajas:</p> <ul> <li>Simple de aprender.</li> <li>Muy extensible.</li> </ul> <p>Desventajas:</p> <ul> <li>No ofrece validaci\u00f3n ni documentaci\u00f3n autom\u00e1tica por defecto.</li> </ul> <p>Ejemplo m\u00ednimo:</p> <pre><code>from flask import Flask\napp = Flask(__name__)\n\n@app.route(\"/hello\")\ndef hello():\n    return {\"msg\": \"Hola desde Flask\"}\n</code></pre>"},{"location":"03_framework_api_rest/#32-django-rest-framework-drf","title":"3.2 Django REST Framework (DRF)","text":"<p>Extensi\u00f3n de Django para APIs robustas.</p> <p>Ventajas:</p> <ul> <li>Sistema completo de autenticaci\u00f3n, permisos y serializaci\u00f3n.</li> <li>Ideal para proyectos grandes.</li> </ul> <p>Desventajas:</p> <ul> <li>Requiere aprender Django.</li> <li>M\u00e1s pesado que otros frameworks.</li> </ul> <p>Ejemplo m\u00ednimo:</p> <pre><code>from rest_framework.views import APIView\nfrom rest_framework.response import Response\n\nclass Hello(APIView):\n    def get(self, request):\n        return Response({\"msg\": \"Hola desde DRF\"})\n</code></pre>"},{"location":"03_framework_api_rest/#33-fastapi","title":"3.3 FastAPI","text":"<p>Framework moderno, r\u00e1pido y basado en tipado.</p> <p>Ventajas:</p> <ul> <li>Tipado autom\u00e1tico con Pydantic.</li> <li>Documentaci\u00f3n autom\u00e1tica (Swagger y ReDoc).</li> <li>Muy r\u00e1pido (ASGI: Starlette + Uvicorn).</li> <li>Ideal para APIs de datos.</li> </ul> <p>Desventajas:</p> <ul> <li>Menos maduro que Django.</li> <li>Para proyectos enormes se necesita arquitectura adicional.</li> </ul> <p>Ejemplo m\u00ednimo:</p> <pre><code>from fastapi import FastAPI\napp = FastAPI()\n\n@app.get(\"/hello\")\ndef hello():\n    return {\"msg\": \"Hola desde FastAPI\"}\n</code></pre>"},{"location":"03_framework_api_rest/#34-otros-frameworks","title":"3.4 Otros frameworks","text":"<ul> <li>Falcon: muy r\u00e1pido, minimalista.</li> <li>Bottle: parecido a Flask.</li> <li>Tornado: orientado a websockets.</li> </ul>"},{"location":"03_framework_api_rest/#4-por-que-vamos-a-usar-fastapi","title":"4. \u00bfPor qu\u00e9 vamos a usar FastAPI?","text":"<p>Elegimos FastAPI porque:</p> <ul> <li>Produce APIs limpias y modernas.</li> <li>Tiene tipado estricto.</li> <li>Genera documentaci\u00f3n autom\u00e1ticamente.</li> <li>Es f\u00e1cil de desplegar.</li> <li>Muy \u00fatil en proyectos de datos.</li> </ul>"},{"location":"03_framework_api_rest/#5-construyendo-una-api-con-fastapi","title":"5. Construyendo una API con FastAPI","text":""},{"location":"03_framework_api_rest/#51-instalacion","title":"5.1 Instalaci\u00f3n","text":"<p>Instalaci\u00f3n recomendada:</p> <pre><code>pip install \"fastapi[standard]\"\n</code></pre> <p>Esto instala FastAPI + Uvicorn + dependencias recomendadas.</p>"},{"location":"03_framework_api_rest/#52-estructura-basica-del-proyecto","title":"5.2 Estructura b\u00e1sica del proyecto","text":"<pre><code>project/\n\u2502-- main.py\n\u2502-- requirements.txt\n</code></pre>"},{"location":"03_framework_api_rest/#53-api-minima","title":"5.3 API m\u00ednima","text":"<pre><code>from fastapi import FastAPI\n\napp = FastAPI()\n\n@app.get(\"/\")\ndef read_root():\n    return {\"mensaje\": \"Bienvenido a la API\"}\n</code></pre>"},{"location":"03_framework_api_rest/#54-ejecutar-la-api-version-moderna","title":"5.4 Ejecutar la API (versi\u00f3n moderna)","text":"<p>FastAPI ahora incluye un comando propio para ejecutar la aplicaci\u00f3n:</p> <pre><code>fastapi run main.py --reload\n</code></pre> <p>Este comando es un wrapper del servidor ASGI Uvicorn.</p> <p>Tambi\u00e9n puedes ejecutar Uvicorn directamente:</p> <pre><code>uvicorn main:app --reload\n</code></pre> <p>Ambos son equivalentes. <code>fastapi run</code> es el recomendado por simplicidad.</p>"},{"location":"03_framework_api_rest/#55-endpoints-de-ejemplo","title":"5.5 Endpoints de ejemplo","text":""},{"location":"03_framework_api_rest/#listado-de-datos","title":"Listado de datos","text":"<pre><code>data = [\n    {\"id\": 1, \"nombre\": \"Producto A\"},\n    {\"id\": 2, \"nombre\": \"Producto B\"}\n]\n\n@app.get(\"/productos\")\ndef listar_productos():\n    return data\n</code></pre>"},{"location":"03_framework_api_rest/#obtener-un-elemento-por-id","title":"Obtener un elemento por ID","text":"<pre><code>@app.get(\"/productos/{item_id}\")\ndef obtener_producto(item_id: int):\n    for p in data:\n        if p[\"id\"] == item_id:\n            return p\n    return {\"error\": \"Producto no encontrado\"}\n</code></pre>"},{"location":"03_framework_api_rest/#6-validacion-de-datos-con-pydantic","title":"6. Validaci\u00f3n de datos con Pydantic","text":"<p>Cuando trabajamos con APIs, los datos que llegan desde clientes externos no son fiables: pueden venir incompletos, con tipos incorrectos o con valores que no cumplen las reglas del negocio.</p> <p>FastAPI utiliza Pydantic para resolver este problema de forma autom\u00e1tica.</p>"},{"location":"03_framework_api_rest/#por-que-son-necesarios-los-modelos-pydantic","title":"\u00bfPor qu\u00e9 son necesarios los modelos Pydantic?","text":"<p>Los modelos basados en <code>BaseModel</code> permiten:</p>"},{"location":"03_framework_api_rest/#61-validacion-automatica-de-datos","title":"6.1 Validaci\u00f3n autom\u00e1tica de datos","text":"<p>Cada vez que un cliente env\u00eda JSON al servidor, Pydantic comprueba:</p> <ul> <li>tipos (<code>str</code>, <code>int</code>, <code>float</code>, <code>bool</code>, <code>list</code>, <code>dict</code>, etc.)</li> <li>campos obligatorios</li> <li>valores por defecto</li> <li>estructuras m\u00e1s complejas (listas, objetos anidados)</li> <li>restricciones (m\u00ednimos, m\u00e1ximos, longitudes\u2026)</li> </ul> <p>Si algo no cumple, FastAPI devuelve autom\u00e1ticamente un error 422 con detalles claros.</p> <p>Esto evita escribir validaciones manuales repetitivas.</p>"},{"location":"03_framework_api_rest/#62-conversion-de-tipos-parsing","title":"6.2 Conversi\u00f3n de tipos (\u201cparsing\u201d)","text":"<p>Pydantic convierte autom\u00e1ticamente los valores al tipo esperado.</p> <p>Ejemplos:</p> <ul> <li><code>\"10\"</code> \u2192 <code>int(10)</code></li> <li><code>\"true\"</code> \u2192 <code>bool(True)</code></li> <li><code>\"2024-05-10\"</code> \u2192 <code>datetime.date</code></li> <li><code>\"12.5\"</code> \u2192 <code>float(12.5)</code></li> </ul> <p>Esto hace que tu l\u00f3gica interna siempre reciba tipos correctos.</p>"},{"location":"03_framework_api_rest/#63-modelado-de-estructuras-complejas","title":"6.3 Modelado de estructuras complejas","text":"<p>Cuando los datos contienen objetos dentro de objetos, listas, relaciones\u2026 se necesita una estructura clara y tipada.</p> <p>Por ejemplo:</p> <pre><code>from pydantic import BaseModel\n\nclass Direccion(BaseModel):\ncalle: str\nciudad: str\n\nclass Usuario(BaseModel):\nnombre: str\nedad: int\ndireccion: Direccion\n</code></pre> <p>FastAPI entiende este modelo, valida la anidaci\u00f3n y genera documentaci\u00f3n autom\u00e1tica.</p>"},{"location":"03_framework_api_rest/#64-documentacion-automatica-openapi-swagger","title":"6.4 Documentaci\u00f3n autom\u00e1tica (OpenAPI / Swagger)","text":"<p>FastAPI utiliza los modelos Pydantic para generar:</p> <ul> <li>la documentaci\u00f3n interactiva (<code>/docs</code>)</li> <li>los esquemas OpenAPI</li> <li>los ejemplos de entrada y salida</li> </ul> <p>Esto permite que cualquier cliente entienda exactamente qu\u00e9 datos debe enviar.</p>"},{"location":"03_framework_api_rest/#65-consistencia-en-datos-de-entrada-y-salida","title":"6.5 Consistencia en datos de entrada y salida","text":"<p>Los modelos pueden usarse tanto para recibir datos (request) como para devolverlos (response):</p> <ul> <li>Entrada \u2192 valida lo que env\u00eda el cliente</li> <li>Salida \u2192 define claramente qu\u00e9 devuelve tu API</li> </ul> <p>As\u00ed evitas inconsistencias en tu API.</p>"},{"location":"03_framework_api_rest/#ejemplo-basico-de-modelo-pydantic","title":"Ejemplo b\u00e1sico de modelo Pydantic","text":"<pre><code>from pydantic import BaseModel\n\nclass Producto(BaseModel):\nid: int\nnombre: str\n</code></pre> <p>Este modelo indica:</p> <ul> <li><code>id</code> debe ser un <code>int</code></li> <li><code>nombre</code> debe ser un <code>str</code></li> <li>Si falta un campo o el tipo es incorrecto, la API lo rechaza autom\u00e1ticamente</li> </ul>"},{"location":"03_framework_api_rest/#en-resumen","title":"En resumen","text":"<p>Usar modelos Pydantic es necesario porque:</p> <ul> <li>validan autom\u00e1ticamente la informaci\u00f3n de entrada</li> <li>garantizan que tu c\u00f3digo recibe datos correctos y estructurados</li> <li>permiten trabajar con objetos Python tipados</li> <li>facilitan la documentaci\u00f3n autom\u00e1tica</li> <li>hacen que las APIs sean predecibles y confiables</li> </ul>"},{"location":"03_framework_api_rest/#son-la-base-de-la-robustez-de-fastapi","title":"Son la base de la robustez de FastAPI.","text":""},{"location":"03_framework_api_rest/#7-documentacion-automatica","title":"7. Documentaci\u00f3n autom\u00e1tica","text":"<p>FastAPI genera autom\u00e1ticamente:</p> <ul> <li>Swagger UI \u2192 <code>/docs</code></li> <li>ReDoc \u2192 <code>/redoc</code></li> </ul> <p>Permiten probar la API sin escribir c\u00f3digo adicional.</p>"},{"location":"03_framework_api_rest/#8-consideraciones-modernas-sobre-servidores-asgi","title":"8. Consideraciones modernas sobre servidores ASGI","text":""},{"location":"03_framework_api_rest/#uvicorn-como-servidor-por-defecto","title":"Uvicorn como servidor por defecto","text":"<p>Aunque ahora exista <code>fastapi run</code>, FastAPI sigue usando Uvicorn internamente.</p>"},{"location":"03_framework_api_rest/#modo-multiproceso-sin-gunicorn","title":"Modo multiproceso sin Gunicorn","text":"<p>Actualmente puedes usar workers directamente:</p> <pre><code>fastapi run main.py --workers 4\n</code></pre> <p>O con Uvicorn:</p> <pre><code>uvicorn main:app --workers 4\n</code></pre> <p>Gunicorn ya no es necesario en la mayor\u00eda de despliegues.</p>"},{"location":"03_framework_api_rest/#9-organizacion-de-la-api-mediante-rutas-routes","title":"9. Organizaci\u00f3n de la API mediante rutas (routes)","text":"<p>A medida que una API crece, concentrar todo el c\u00f3digo en un \u00fanico archivo (<code>main.py</code>) deja de ser una buena pr\u00e1ctica. FastAPI permite organizar la aplicaci\u00f3n en m\u00f3dulos de rutas mediante el uso de <code>APIRouter</code>.</p> <p>Esto permite:</p> <ul> <li>Separar funcionalidades</li> <li>Mantener el c\u00f3digo ordenado</li> <li>Escalar la aplicaci\u00f3n con facilidad</li> <li>Integrar nuevas capas (como la base de datos) sin mezclar responsabilidades</li> </ul>"},{"location":"03_framework_api_rest/#91-que-es-un-router-en-fastapi","title":"9.1 \u00bfQu\u00e9 es un router en FastAPI?","text":"<p>Un router es un conjunto de endpoints relacionados entre s\u00ed. Por ejemplo:</p> <ul> <li><code>/productos</code></li> <li><code>/usuarios</code></li> <li><code>/pedidos</code></li> </ul> <p>Cada grupo de endpoints puede definirse en un archivo distinto.</p>"},{"location":"03_framework_api_rest/#92-creacion-de-un-router-basico","title":"9.2 Creaci\u00f3n de un router b\u00e1sico","text":"<p>Ejemplo de router para gestionar productos:</p> <pre><code>from fastapi import APIRouter\n\nrouter = APIRouter(\n    prefix=\"/productos\",\n    tags=[\"productos\"]\n)\n\n@router.get(\"/\")\ndef listar_productos():\n    return {\"mensaje\": \"Listado de productos\"}\n</code></pre> <ul> <li><code>prefix</code> a\u00f1ade una ruta base com\u00fan</li> <li><code>tags</code> agrupa los endpoints en la documentaci\u00f3n autom\u00e1tica</li> </ul>"},{"location":"03_framework_api_rest/#93-integracion-del-router-en-la-aplicacion-principal","title":"9.3 Integraci\u00f3n del router en la aplicaci\u00f3n principal","text":"<p>En el archivo principal de la aplicaci\u00f3n:</p> <pre><code>from fastapi import FastAPI\nfrom routes import productos\n\napp = FastAPI()\n\napp.include_router(productos.router)\n</code></pre> <p>A partir de este momento, la ruta <code>/productos/</code> queda disponible.</p>"},{"location":"03_framework_api_rest/#94-estructura-recomendada-del-proyecto","title":"9.4 Estructura recomendada del proyecto","text":"<p>Una estructura t\u00edpica de proyecto podr\u00eda ser:</p> <pre><code>app/\n\u251c\u2500\u2500 main.py\n\u251c\u2500\u2500 routes/\n\u2502   \u2514\u2500\u2500 productos.py\n\u251c\u2500\u2500 models/\n\u251c\u2500\u2500 schemas/\n\u2514\u2500\u2500 database/\n</code></pre> <p>Esta organizaci\u00f3n facilita el mantenimiento y la escalabilidad del proyecto.</p>"},{"location":"03_framework_api_rest/#95-ventajas-de-usar-routers","title":"9.5 Ventajas de usar routers","text":"<ul> <li>Separaci\u00f3n clara de responsabilidades</li> <li>C\u00f3digo m\u00e1s limpio y legible</li> <li>Facilita el trabajo en equipo</li> <li>Integraci\u00f3n natural con bases de datos y servicios externos</li> </ul>"},{"location":"03_framework_api_rest/#10-persistencia-de-datos-y-uso-de-orm","title":"10. Persistencia de datos y uso de ORM","text":"<p>Hasta ahora, la API ha trabajado con datos almacenados en memoria, lo que implica que los datos se pierden cada vez que se reinicia la aplicaci\u00f3n.</p> <p>Para solucionar este problema se introduce:</p> <ul> <li>Una base de datos real</li> <li>Un ORM para interactuar con ella desde Python</li> </ul>"},{"location":"03_framework_api_rest/#101-que-es-un-orm","title":"10.1 \u00bfQu\u00e9 es un ORM?","text":"<p>Un ORM (Object Relational Mapper) es una herramienta que permite trabajar con una base de datos relacional usando clases y objetos de Python, evitando escribir SQL directamente.</p> <p>Relaci\u00f3n entre conceptos:</p> Base de datos ORM Tabla Clase Columna Atributo Fila Objeto <p>El ORM se encarga de traducir autom\u00e1ticamente las operaciones en Python a sentencias SQL.</p>"},{"location":"03_framework_api_rest/#102-ventajas-de-usar-un-orm-en-una-api","title":"10.2 Ventajas de usar un ORM en una API","text":"<ul> <li>Reduce la cantidad de SQL manual</li> <li>Evita errores comunes</li> <li>Mejora la mantenibilidad del c\u00f3digo</li> <li>Permite cambiar de base de datos con pocos cambios</li> <li>Se integra perfectamente con FastAPI y Pydantic</li> </ul>"},{"location":"03_framework_api_rest/#103-sqlite-como-base-de-datos","title":"10.3 SQLite como base de datos","text":"<p>Para esta unidad se utiliza SQLite, ya que:</p> <ul> <li>No requiere servidor</li> <li>Usa un \u00fanico archivo <code>.db</code></li> <li>Es ligera y f\u00e1cil de configurar</li> <li>Ideal para pr\u00e1cticas y proyectos educativos</li> </ul>"},{"location":"03_framework_api_rest/#104-sqlalchemy-como-orm","title":"10.4 SQLAlchemy como ORM","text":"<p>SQLAlchemy es uno de los ORM m\u00e1s utilizados en Python. Permite definir tablas como clases y realizar operaciones CRUD de forma sencilla.</p>"},{"location":"03_framework_api_rest/#105-instalacion-de-sqlalchemy","title":"10.5 Instalaci\u00f3n de SQLAlchemy","text":"<pre><code>pip install sqlalchemy\n</code></pre>"},{"location":"03_framework_api_rest/#11-configuracion-de-la-base-de-datos-con-sqlalchemy","title":"11. Configuraci\u00f3n de la base de datos con SQLAlchemy","text":""},{"location":"03_framework_api_rest/#111-conexion-a-la-base-de-datos","title":"11.1 Conexi\u00f3n a la base de datos","text":"<p>Para conectarse a una base de datos con SQLAlchemy es necesario definir un motor de conexi\u00f3n (<code>engine</code>). El motor indica qu\u00e9 base de datos se va a usar y c\u00f3mo conectarse a ella.</p>"},{"location":"03_framework_api_rest/#conexion-a-sqlite-motor-incluido-en-python","title":"Conexi\u00f3n a SQLite (motor incluido en Python)","text":"<p>En el caso de SQLite, no es necesario instalar ning\u00fan motor adicional, ya que:</p> <ul> <li>SQLite viene incluido por defecto en Python mediante el m\u00f3dulo est\u00e1ndar <code>sqlite3</code></li> <li>SQLAlchemy utiliza internamente ese m\u00f3dulo</li> <li>No hay servidor de base de datos</li> </ul> <p>Ejemplo de conexi\u00f3n a SQLite:</p> <pre><code>from sqlalchemy import create_engine\n\nDATABASE_URL = \"sqlite:///./database.db\"\n\nengine = create_engine(\nDATABASE_URL,\nconnect_args={\"check_same_thread\": False}\n)\n</code></pre> <p>Notas importantes:</p> <ul> <li>El archivo <code>database.db</code> se crea autom\u00e1ticamente si no existe</li> <li><code>check_same_thread=False</code> es necesario al usar SQLite con FastAPI</li> <li>No se requiere ninguna instalaci\u00f3n adicional aparte de SQLAlchemy</li> </ul>"},{"location":"03_framework_api_rest/#conexion-a-mysql-ejemplo-teorico","title":"Conexi\u00f3n a MySQL (ejemplo te\u00f3rico)","text":"<p>En bases de datos como MySQL, el proceso es distinto:</p> <ul> <li>Es necesario instalar un servidor de base de datos</li> <li>Se debe instalar un driver de conexi\u00f3n</li> <li>La URL de conexi\u00f3n cambia</li> </ul> <p>Ejemplo de instalaci\u00f3n del driver:</p> <pre><code>pip install pymysql\n</code></pre> <p>Ejemplo de conexi\u00f3n a MySQL con SQLAlchemy:</p> <pre><code>from sqlalchemy import create_engine\n\nDATABASE_URL = \"mysql+pymysql://usuario:password@localhost:3306/nombre_bd\"\n\nengine = create_engine(DATABASE_URL)\n</code></pre> <p>Donde:</p> <ul> <li><code>usuario</code> es el usuario de la base de datos</li> <li><code>password</code> es la contrase\u00f1a</li> <li><code>localhost</code> es el servidor</li> <li><code>3306</code> es el puerto por defecto de MySQL</li> <li><code>nombre_bd</code> es la base de datos</li> </ul>"},{"location":"03_framework_api_rest/#comparacion-sqlite-vs-mysql","title":"Comparaci\u00f3n SQLite vs MySQL","text":"Caracter\u00edstica SQLite MySQL Instalaci\u00f3n No necesaria S\u00ed Servidor No S\u00ed Archivo \u00fanico S\u00ed No Uso educativo Ideal No recomendado Uso producci\u00f3n Limitado Habitual <p>En esta unidad se utilizar\u00e1 SQLite, pero el uso de un ORM permite cambiar de motor con m\u00ednimos cambios en el c\u00f3digo.</p>"},{"location":"03_framework_api_rest/#112-base-declarativa","title":"11.2 Base declarativa","text":"<p>SQLAlchemy utiliza una clase base com\u00fan para todos los modelos ORM:</p> <pre><code>from sqlalchemy.orm import declarative_base\n\nBase = declarative_base()\n</code></pre>"},{"location":"03_framework_api_rest/#113-definicion-de-modelos-orm","title":"11.3 Definici\u00f3n de modelos ORM","text":"<p>Ejemplo de modelo <code>Producto</code>:</p> <pre><code>from sqlalchemy import Column, Integer, String, Float, Boolean\n\nclass Producto(Base):\n    __tablename__ = \"productos\"\n\n    id = Column(Integer, primary_key=True, index=True)\n    nombre = Column(String, nullable=False)\n    precio = Column(Float, nullable=False)\n    stock = Column(Integer, nullable=False)\n    disponible = Column(Boolean, default=True)\n</code></pre> <p>Cada instancia de esta clase representa una fila de la tabla.</p>"},{"location":"03_framework_api_rest/#114-creacion-de-las-tablas","title":"11.4 Creaci\u00f3n de las tablas","text":"<pre><code>Base.metadata.create_all(bind=engine)\n</code></pre>"},{"location":"03_framework_api_rest/#12-sesiones-y-operaciones-crud-con-sqlalchemy","title":"12. Sesiones y operaciones CRUD con SQLAlchemy","text":"<p>Las sesiones permiten comunicarse con la base de datos y ejecutar operaciones de forma segura.</p>"},{"location":"03_framework_api_rest/#121-configuracion-de-la-sesion","title":"12.1 Configuraci\u00f3n de la sesi\u00f3n","text":"<pre><code>from sqlalchemy.orm import sessionmaker\nfrom database.database import engine\n\nSessionLocal = sessionmaker(\n    autocommit=False,\n    autoflush=False,\n    bind=engine\n)\n</code></pre> <ul> <li><code>autocommit=False</code> \u2192 obliga a confirmar cambios con <code>commit()</code></li> <li><code>autoflush=False</code> \u2192 evita escribir autom\u00e1ticamente cambios pendientes</li> <li><code>bind=engine</code> \u2192 asocia la sesi\u00f3n con la base de datos configurada</li> </ul>"},{"location":"03_framework_api_rest/#122-inyeccion-de-dependencias-con-fastapi","title":"12.2 Inyecci\u00f3n de dependencias con FastAPI","text":"<p>Para usar la sesi\u00f3n en los endpoints de FastAPI de manera segura y autom\u00e1tica se define una funci\u00f3n dependencia:</p> <pre><code>from fastapi import Depends\nfrom sqlalchemy.orm import Session\n\ndef get_db():\n    db = SessionLocal()\n    try:\n        yield db   # devuelve la sesi\u00f3n al endpoint\n    finally:\n        db.close() # asegura que la sesi\u00f3n se cierra al terminar\n</code></pre>"},{"location":"03_framework_api_rest/#explicacion-paso-a-paso","title":"Explicaci\u00f3n paso a paso","text":"<ol> <li>Cada vez que un endpoint que usa <code>Depends(get_db)</code> es llamado, FastAPI ejecuta <code>get_db()</code>.</li> <li><code>db = SessionLocal()</code> \u2192 crea una nueva sesi\u00f3n para esa petici\u00f3n.</li> <li><code>yield db</code> \u2192 la sesi\u00f3n se pasa como argumento al endpoint.</li> <li>Cuando el endpoint termina (o si ocurre un error), se ejecuta el bloque <code>finally</code> \u2192 la sesi\u00f3n se cierra autom\u00e1ticamente.</li> <li>Esto asegura que cada petici\u00f3n tiene su propia sesi\u00f3n y no quedan conexiones abiertas.</li> </ol>"},{"location":"03_framework_api_rest/#123-uso-de-la-sesion-en-un-endpoint","title":"12.3 Uso de la sesi\u00f3n en un endpoint","text":"<pre><code>from fastapi import APIRouter\n\nrouter = APIRouter()\n\n@router.get(\"/\", response_model=list[UserResponse])\ndef get_users(db: Session = Depends(get_db)):\n    return db.query(User).all()\n</code></pre> <p>Flujo de ejecuci\u00f3n:</p> <ol> <li>La petici\u00f3n HTTP llega al endpoint <code>/users/</code>.</li> <li>FastAPI llama a <code>get_db()</code> y obtiene <code>db</code> (sesi\u00f3n).</li> <li><code>db.query(User).all()</code> consulta todos los usuarios en la base de datos.</li> <li>FastAPI convierte los objetos ORM <code>User</code> a Pydantic <code>UserResponse</code>.</li> <li>Se devuelve la respuesta al cliente.</li> <li>Se ejecuta <code>finally: db.close()</code> y se cierra la sesi\u00f3n.</li> </ol>"},{"location":"03_framework_api_rest/#124-diagrama-conceptual","title":"12.4 Diagrama conceptual","text":"<pre><code>[Petici\u00f3n HTTP]\n       |\n       v\n[FastAPI Endpoint] ---Depends(get_db)--&gt; [get_db() crea sesi\u00f3n]\n                                            |\n                                            v\n                                  [db.query(...)]\n                                            |\n                                            v\n                           [Resultado devuelto al endpoint]\n                                            |\n                                            v\n                                [finally: db.close()]\n</code></pre>"},{"location":"03_framework_api_rest/#125-ventajas-de-este-enfoque","title":"12.5 Ventajas de este enfoque","text":"<ul> <li>No hay que abrir/cerrar la sesi\u00f3n manualmente en cada endpoint.</li> <li>Funciona de manera segura con m\u00faltiples endpoints concurrentes.</li> <li>Evita errores por conexiones abiertas o sesiones compartidas entre peticiones.</li> <li>Compatible con routers y modularizaci\u00f3n del proyecto.</li> </ul>"},{"location":"03_framework_api_rest/#126-operaciones-crud-basicas","title":"12.6 Operaciones CRUD b\u00e1sicas","text":""},{"location":"03_framework_api_rest/#crear-un-registro","title":"Crear un registro","text":"<pre><code>producto = Producto(\n    nombre=\"Rat\u00f3n\",\n    precio=19.99,\n    stock=25,\n    disponible=True\n)\n\ndb.add(producto)\ndb.commit()\ndb.refresh(producto)\n</code></pre>"},{"location":"03_framework_api_rest/#leer-registros","title":"Leer registros","text":"<pre><code>productos = db.query(Producto).all()\n</code></pre> <p>Obtener un registro por ID:</p> <pre><code>producto = db.query(Producto).filter(Producto.id == 1).first()\n</code></pre>"},{"location":"03_framework_api_rest/#actualizar-un-registro","title":"Actualizar un registro","text":"<pre><code>producto.precio = 17.99\ndb.commit()\n</code></pre>"},{"location":"03_framework_api_rest/#eliminar-un-registro","title":"Eliminar un registro","text":"<pre><code>db.delete(producto)\ndb.commit()\n</code></pre>"},{"location":"03_framework_api_rest/#127-relacion-entre-pydantic-y-sqlalchemy","title":"12.7 Relaci\u00f3n entre Pydantic y SQLAlchemy","text":"<p>En una API con FastAPI se utilizan dos tipos de modelos:</p> <ul> <li> <p>Modelos Pydantic   Validan y estructuran los datos que entran y salen de la API.</p> </li> <li> <p>Modelos SQLAlchemy (ORM)   Definen c\u00f3mo se almacenan los datos en la base de datos.</p> </li> </ul> <p>Esta separaci\u00f3n de responsabilidades mejora la claridad, la seguridad y el mantenimiento del proyecto.</p>"},{"location":"03_framework_api_rest/#conclusion","title":"Conclusi\u00f3n","text":"<p>La combinaci\u00f3n de FastAPI + routers + Pydantic + SQLAlchemy + SQLite permite crear APIs REST bien estructuradas, con persistencia real y listas para ser consumidas por aplicaciones frontend.</p>"},{"location":"03_framework_api_rest/#13-acceso-a-la-api-desde-frontend-y-problema-de-cors","title":"13. Acceso a la API desde frontend y problema de CORS","text":"<p>Cuando una API desarrollada con FastAPI se consume desde una aplicaci\u00f3n frontend (por ejemplo, React), es habitual encontrarse con el llamado error de CORS.</p>"},{"location":"03_framework_api_rest/#131-que-es-cors","title":"13.1 \u00bfQu\u00e9 es CORS?","text":"<p>CORS (Cross-Origin Resource Sharing) es un mecanismo de seguridad implementado por los navegadores web.</p> <p>Un navegador considera que una petici\u00f3n es cross-origin cuando:</p> <ul> <li>El frontend y la API no comparten:</li> <li>el mismo dominio</li> <li>o el mismo puerto</li> <li>o el mismo protocolo</li> </ul> <p>Ejemplo t\u00edpico en desarrollo:</p> <ul> <li>Frontend React: <code>http://localhost:5173</code></li> <li>API FastAPI: <code>http://localhost:8000</code></li> </ul> <p>Aunque ambos est\u00e9n en <code>localhost</code>, el puerto es distinto, por lo que el navegador bloquea la petici\u00f3n si la API no lo permite expl\u00edcitamente.</p>"},{"location":"03_framework_api_rest/#132-por-que-aparece-el-error-de-cors","title":"13.2 Por qu\u00e9 aparece el error de CORS","text":"<p>El error no lo genera FastAPI, sino el navegador.</p> <p>El navegador:</p> <ol> <li>Detecta que la petici\u00f3n va a otro origen</li> <li>Comprueba si la respuesta incluye cabeceras CORS v\u00e1lidas</li> <li>Si no est\u00e1n presentes, bloquea la respuesta por seguridad</li> </ol> <p>Esto evita, por ejemplo, que una web maliciosa acceda a datos privados de otra web sin permiso.</p>"},{"location":"03_framework_api_rest/#133-solucion-middleware-cors-en-fastapi","title":"13.3 Soluci\u00f3n: Middleware CORS en FastAPI","text":"<p>FastAPI permite configurar CORS de forma sencilla mediante un middleware.</p> <ul> <li>Podemos ver en la documentaci\u00f3n de FastApi la manera de solucionar dicho problema de CORS.</li> </ul> <p>Este middleware a\u00f1ade las cabeceras necesarias a las respuestas de la API para indicar qu\u00e9 or\u00edgenes est\u00e1n permitidos.</p>"},{"location":"03_framework_api_rest/#134-configuracion-basica-de-cors","title":"13.4 Configuraci\u00f3n b\u00e1sica de CORS","text":"<p>En el archivo principal (<code>main.py</code>) se debe a\u00f1adir lo siguiente:</p> <pre><code>from fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\n\napp = FastAPI()\n\napp.add_middleware(\nCORSMiddleware,\nallow_origins=[\n\"http://localhost:5173\", # React (Vite)\n\"http://localhost:3000\" # React (Create React App)\n],\nallow_credentials=True,\nallow_methods=[\"*\"],\nallow_headers=[\"*\"],\n)\n</code></pre>"},{"location":"03_framework_api_rest/#135-explicacion-de-los-parametros","title":"13.5 Explicaci\u00f3n de los par\u00e1metros","text":"<ul> <li> <p>allow_origins   Lista de or\u00edgenes permitidos para acceder a la API.   Es recomendable especificarlos expl\u00edcitamente.</p> </li> <li> <p>allow_credentials   Permite enviar cookies o credenciales si fuera necesario.</p> </li> <li> <p>allow_methods   M\u00e9todos HTTP permitidos (<code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>, etc.).   Con <code>\"*\"</code> se permiten todos.</p> </li> <li> <p>allow_headers   Cabeceras HTTP permitidas.   Con <code>\"*\"</code> se permiten todas.</p> </li> </ul>"},{"location":"03_framework_api_rest/#136-configuracion-en-desarrollo-vs-produccion","title":"13.6 Configuraci\u00f3n en desarrollo vs producci\u00f3n","text":"<p>Durante el desarrollo se puede permitir cualquier origen:</p> <pre><code>allow_origins=[\"*\"]\n</code></pre> <p>\u26a0\ufe0f No recomendado en producci\u00f3n, ya que elimina las restricciones de seguridad.</p> <p>En producci\u00f3n:</p> <ul> <li>Se deben especificar los dominios reales del frontend</li> <li>Nunca usar <code>\"*\"</code> si hay datos sensibles</li> </ul>"},{"location":"03_framework_api_rest/#137-resumen","title":"13.7 Resumen","text":"<ul> <li>CORS es una protecci\u00f3n del navegador, no un error de FastAPI</li> <li>Aparece cuando frontend y backend est\u00e1n en or\u00edgenes distintos</li> <li>Se soluciona a\u00f1adiendo el middleware CORS</li> <li>FastAPI incluye soporte CORS de forma nativa y sencilla</li> </ul>"}]}